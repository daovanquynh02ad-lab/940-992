<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Тест по анатомии и физиологии ЖКТ (902–992)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root { color-scheme: light dark; }

    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at top left, #e0f2fe 0, transparent 55%),
        radial-gradient(circle at bottom right, #fef3c7 0, transparent 50%),
        linear-gradient(135deg, #f9fafb, #e5e7eb);
      color: #111827;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .app {
      max-width: 960px;
      margin: 0 auto;
      padding: 24px 16px 120px;
      flex: 1;
      width: 100%;
    }

    .card {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(18px);
      border-radius: 24px;
      padding: 22px 20px 24px;
      box-shadow: 0 20px 60px rgba(15, 23, 42, 0.18);
      border: 1px solid rgba(148, 163, 184, 0.4);
    }

    h1 {
      font-size: 26px;
      text-align: center;
      margin: 0 0 12px;
      font-weight: 700;
    }

    .subtitle {
      font-size: 15px;
      text-align: center;
      color: #6b7280;
      margin-bottom: 16px;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      font-size: 14px;
      color: #6b7280;
      flex-wrap: wrap;
    }

    .badge {
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 11px;
      background: #eef2ff;
      color: #4f46e5;
      border: 1px solid #c7d2fe;
      font-weight: 500;
    }

    .question-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 10px;
      font-size: 14px;
      color: #6b7280;
    }

    .question-text {
      font-size: 19px;
      margin-bottom: 12px;
      color: #111827;
      line-height: 1.4;
    }

    .hint {
      font-size: 13px;
      color: #9ca3af;
      margin-bottom: 8px;
    }

    .options {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .option {
      padding: 12px 14px;
      background: #f9fafb;
      border-radius: 14px;
      border: 1px solid #e5e7eb;
      display: flex;
      gap: 12px;
      transition: 0.15s;
      cursor: pointer;
    }

    .option:hover {
      background: #f3f4f6;
      border-color: #d1d5db;
    }

    .option.correct {
      background: #ecfdf5;
      border-color: #16a34a;
      box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
    }

    .option.wrong {
      background: #fef2f2;
      border-color: #dc2626;
      box-shadow: 0 0 10px rgba(239, 68, 68, 0.5);
    }

    .option input {
      transform: scale(1.25);
      accent-color: #2563eb;
      margin-top: 2px;
      pointer-events: none; /* чтобы клик обрабатывался по li */
    }

    .option-label-text {
      font-size: 17px;
      color: #111827;
    }

    .controls {
      margin-top: 18px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 10px 18px;
      font-size: 15px;
      font-weight: 500;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.25);
      background: #111827;
      color: #fff;
    }

    button.secondary {
      background: #e5e7eb;
      color: #111827;
    }

    button.danger {
      background: #dc2626;
    }

    button:disabled {
      opacity: 0.45;
      cursor: default;
      box-shadow: none;
    }

    .status {
      margin-top: 10px;
      min-height: 22px;
      font-size: 15px;
    }

    .status.ok { color: #16a34a; }
    .status.bad { color: #dc2626; }
    .status.info { color: #6b7280; }

    .progress {
      margin-top: 8px;
      font-size: 14px;
      text-align: center;
      color: #6b7280;
    }

    /* --- фиксированный Телеграм-блок --- */
    .tg-fixed {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100%;
      padding: 14px 0;
      background: rgba(255,255,255,0.9);
      border-top: 1px solid #e5e7eb;
      backdrop-filter: blur(10px);
      display: flex;
      justify-content: center;
      z-index: 9999;
    }

    .tg-link {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 18px;
      background: #229ED9;
      border-radius: 999px;
      color: #fff;
      font-weight: 600;
      text-decoration: none;
      font-size: 16px;
      box-shadow: 0 10px 25px rgba(34,158,217,0.45);
      animation: pulse 2s infinite ease-in-out;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.06); }
      100% { transform: scale(1); }
    }

    .tg-link img {
      width: 26px;
      height: 26px;
    }

    @media (max-width: 640px) {
      .card {
        padding: 18px 14px 20px;
        border-radius: 20px;
      }
      h1 { font-size: 22px; }
      .question-text { font-size: 17px; }
      .option-label-text { font-size: 15px; }
      .controls { flex-direction: column; }
      button { width: 100%; justify-content: center; }
      .top-bar, .question-header {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>

<body>

<div class="app">
  <h1>Тест по анатомии и физиологии ЖКТ</h1>
  <div class="subtitle">
    Вопросы №902–992 • Можно выбрать <b>один или несколько</b> вариантов ответа
  </div>

  <div class="card">
    <div class="top-bar">
      <div id="top-progress"></div>
      <div><span class="badge">Подсказка</span> варианты подсвечиваются сразу при выборе</div>
    </div>

    <div class="question-header">
      <div id="question-number"></div>
      <div id="question-id"></div>
    </div>

    <div class="hint">Кликай по варианту — он сразу станет зелёным (если верный) или красным (если нет).</div>

    <div id="question-text" class="question-text"></div>
    <ul id="options" class="options"></ul>

    <div class="controls">
      <button id="prev-btn" class="secondary">← Назад</button>
      <button id="next-btn" class="secondary" disabled>Вперёд →</button>
      <button id="reset-btn" class="secondary">Сбросить этот вопрос</button>
      <button id="check-all-btn" class="danger">Итог за весь тест</button>
    </div>

    <div id="status" class="status info"></div>
    <div id="progress" class="progress"></div>
  </div>
</div>

<!-- ФИКСИРОВАННЫЙ ТГ-БЛОК -->
<div class="tg-fixed">
  <a class="tg-link" href="https://t.me/stewonly" target="_blank">
    <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="">
    @stewonly
  </a>
</div>

<script>
const questions = [
  { id: 902, text: "Укажите особенности, характерные для полого органа:",
    options: [
      "имеет строму и паренхиму",
      "имеет паренхиму и дольчатое строение",
      "имеет внутреннюю полость и 3-х слойную стенку",
      "имеет строму и внутреннюю полость"
    ],
    correct: [2]
  },
  { id: 903, text: "Укажите особенности, характерные для паренхиматозного органа:",
    options: [
      "имеет внутреннюю полость и 3-х слойную стенку",
      "имеет паренхиму и дольчатое строение",
      "имеет строму и паренхиму",
      "имеет строму и внутреннюю полость"
    ],
    correct: [1,2]
  },
  { id: 904, text: "К пищеварительной системе относятся:",
    options: [
      "глотка",
      "ротовая полость",
      "желудок",
      "носовая полость",
      "гортань"
    ],
    correct: [0,1,2]
  },
  { id: 905, text: "К пищеварительной системе относятся:",
    options: [
      "тонкая кишка",
      "селезенка",
      "пищевод",
      "гортань"
    ],
    correct: [0,2]
  },
  { id: 906, text: "Полость рта ограничена:",
    options: [
      "щеками, зубами, зевом, небом",
      "щеками, губами, зевом, диафрагмой рта, небом (твердым и мягким)",
      "щеками, губами, деснами с зубами",
      "деснами с зубами, небом (твердым и мягким), диафрагмой рта"
    ],
    correct: [1]
  },
  { id: 907, text: "Полость рта делится на отделы:",
    options: [
      "собственно полость рта и преддверие рта",
      "губы, полость рта и собственно полость рта",
      "щечная область, полость рта и преддверие рта"
    ],
    correct: [0]
  },
  { id: 908, text: "Секреторная функция в полости рта осуществляется",
    options: [
      "только подъязычной слюнной железой",
      "только поднижнечелюстной слюнной железой",
      "малыми и большими слюнными железами",
      "только околоушной слюнной железой"
    ],
    correct: [2]
  },
  { id: 909, text: "Зев состоит из:",
    options: [
      "задней стенки глотки",
      "небные дужки и мягкое небо",
      "пустого пространства",
      "небных дужек, мягкого неба, корня языка"
    ],
    correct: [3]
  },
  { id: 910, text: "Глотка состоит из:",
    options: [
      "3-х частей",
      "2-х частей",
      "4-х частей"
    ],
    correct: [0]
  },
  { id: 911, text: "Глотка состоит из:",
    options: [
      "ротоглотки, носоглотки, гортани",
      "ротоглотки, гортаноглотки, носоглотки",
      "ротоглотки, гортаноглотки, зева",
      "носоглотки, задней стенки, зева"
    ],
    correct: [1]
  },
  { id: 912, text: "Пищевод –",
    options: [
      "имеет четыре сужения",
      "паренхиматозный орган",
      "имеет три сужения",
      "полый орган"
    ],
    correct: [2,3]
  },
  { id: 913, text: "Мышечная оболочка пищевода состоит из:",
    options: [
      "3-х слоев",
      "4-х слоев",
      "2-х слоев",
      "1-го слоя"
    ],
    correct: [2]
  },
  { id: 914, text: "Желудок состоит из:",
    options: [
      "кардиальной части, дна, тела, привратниковой части",
      "дна, тела, ампулы",
      "дна, тела, шейки"
    ],
    correct: [0]
  },
  { id: 915, text: "Стенка желудка состоит из следующих оболочек:",
    options: [
      "мышечной",
      "серозной",
      "адвентициальной",
      "слизистой"
    ],
    correct: [0,1,3]
  },
  { id: 916, text: "Назовите слои мышечной оболочки желудка:",
    options: [
      "круговой",
      "косой",
      "перистый",
      "продольный"
    ],
    correct: [0,1,3]
  },
  { id: 917, text: "Депонирующая функция желудка осуществляется его:",
    options: [
      "привратниковой частью",
      "дном",
      "телом"
    ],
    correct: [1]
  },
  { id: 918, text: "Какими клетками желудочных желез секретируются пепсины?",
    options: [
      "париетальными",
      "эндокринными",
      "главными",
      "добавочными"
    ],
    correct: [2]
  },
  { id: 919, text: "Какими клетками желудочных желез секретируется соляная кислота?",
    options: [
      "мукоцитами",
      "обкладочными",
      "добавочными",
      "главными"
    ],
    correct: [1]
  },
  { id: 920, text: "Какими клетками желудочных желез секретируется слизь?",
    options: [
      "добавочными",
      "главными",
      "эндокринными",
      "обкладочными"
    ],
    correct: [0]
  },
  { id: 921, text: "Поджелудочная железа –",
    options: [
      "полый орган",
      "выделяет панкреатический сок",
      "паренхиматозный орган",
      "выделяет желчь"
    ],
    correct: [1,2]
  },
  { id: 922, text: "В поджелудочной железе выделяют:",
    options: [
      "головку",
      "хвост",
      "ножку",
      "перешеек",
      "тело"
    ],
    correct: [0,1,4]
  },
  { id: 923, text: "Печень -",
    options: [
      "паренхиматозный орган",
      "полый орган",
      "выделяет панкреатический сок",
      "выделяет желчь"
    ],
    correct: [0,3]
  },
  { id: 924, text: "В печени выделяют:",
    options: [
      "призматическую и квадратную доли",
      "переднюю и заднюю доли",
      "левую и правую доли",
      "верхнюю и нижнюю доли"
    ],
    correct: [2]
  },
  { id: 925, text: "Структурно-функциональной единицей печени является:",
    options: [
      "долька",
      "нефрон",
      "ацинус"
    ],
    correct: [0]
  },
  { id: 926, text: "В желчном пузыре выделяют:",
    options: [
      "хвост",
      "дно",
      "шейку",
      "тело",
      "ножку"
    ],
    correct: [1,2,3]
  },
  { id: 927, text: "В состав желчи входят:",
    options: [
      "холестерин",
      "желчные кислоты",
      "желчные пигменты",
      "ферменты",
      "холецистокинин"
    ],
    correct: [0,1,2]
  },
  { id: 928, text: "Общий желчный проток формируется из:",
    options: [
      "протока поджелудочной железы и общего печеночного протока",
      "протока желчного пузыря и протока поджелудочной железы",
      "протока поджелудочной железы и протока желчного пузыря",
      "общего печеночного протока и протока желчного пузыря"
    ],
    correct: [3]
  },
  { id: 929, text: "Общий желчный проток впадает в:",
    options: [
      "двенадцатиперстную кишку",
      "подвздошную кишку",
      "тощую кишку",
      "желчный пузырь"
    ],
    correct: [0]
  },
  { id: 930, text: "Площадь всасывающей поверхности тонкой кишки увеличивается за счет:",
    options: [
      "гаустр",
      "полулунных складок",
      "ворсинок"
    ],
    correct: [2]
  },
  { id: 931, text: "Тонкая кишка состоит из:",
    options: [
      "ампулы и канала",
      "слепой кишки, ободочной кишки, прямой кишки",
      "двенадцатиперстной кишки, тощей кишки, слепой кишки",
      "двенадцатиперстной кишки, тощей кишки, подвздошной кишки"
    ],
    correct: [3]
  },
  { id: 932, text: "Поперечно-полосатая мускулатура в пищеварительном тракте встречается в:",
    options: [
      "верхней части пищевода",
      "желудке",
      "внутреннем сфинктере прямой кишки",
      "наружном сфинктере прямой кишки",
      "глотке"
    ],
    correct: [0,3,4]
  },
  { id: 933, text: "Мышечная оболочка тонкой кишки состоит из:",
    options: [
      "3-х слоев мышц",
      "поперечно-полосатой мускулатуры",
      "2-х слоев мышц",
      "гладкой мускулатуры"
    ],
    correct: [2,3]
  },
  { id: 934, text: "Укажите слои мышечной оболочки тонкой кишки:",
    options: [
      "продольный",
      "косой",
      "круговой"
    ],
    correct: [0,2]
  },
  { id: 935, text: "Толстая кишка состоит из:",
    options: [
      "двенадцатиперстной кишки, сигмовидной кишки, слепой кишки",
      "двенадцатиперстной кишки, тощей кишки, подвздошной кишки",
      "слепой кишки, ободочной кишки, прямой кишки",
      "тощей кишки, поперечно-ободочной кишки, прямой кишки"
    ],
    correct: [2]
  },
  { id: 936, text: "Мышечная оболочка толстой кишки состоит из:",
    options: [
      "3-х слоев мышц",
      "2-х слоев мышц",
      "гладкой мускулатуры",
      "поперечно-полосатой мускулатуры"
    ],
    correct: [1,2]
  },
  { id: 937, text: "Прямая кишка состоит из:",
    options: [
      "сигмовидной кишки, подвздошной кишки",
      "слепой кишки, ободочной кишки",
      "тощей кишки, слепой кишки",
      "ампулы и канала"
    ],
    correct: [3]
  },
  { id: 938, text: "Ободочная кишка",
    options: [
      "состоит из восходящей, поперечной, нисходящей, слепой кишок",
      "состоит из восходящей, поперечной, нисходящей, сигмовидной кишок",
      "относится к толстой кишке",
      "относится к тонкой кишке"
    ],
    correct: [1,2]
  },
  { id: 939, text: "Депонирующая функция прямой кишки осуществляется ее:",
    options: [
      "каналом",
      "изгибами",
      "сфинктерами",
      "ампулой"
    ],
    correct: [3]
  },
  { id: 940, text: "Органы брюшной полости покрыты:",
    options: [
      "серозной оболочкой",
      "сосудистой оболочкой",
      "адвентициальной оболочкой",
      "слизистой оболочкой"
    ],
    correct: [0]
  },
  { id: 941, text: "Пищеварительными функциями органов желудочно-кишечного тракта являются:",
    options: [
      "инкреторная",
      "секреторная",
      "моторная",
      "экскреторная",
      "всасывательная"
    ],
    correct: [1,2,4]
  },
  { id: 942, text: "Основными ферментами слюны являются:",
    options: [
      "альфа-амилаза",
      "трипсин",
      "липаза",
      "мальтаза"
    ],
    correct: [0,3]
  },
  { id: 943, text: "Перечислите непищеварительные функции слюны:",
    options: [
      "экскреторная",
      "ферментативная обработка пищи",
      "участие в артикуляции",
      "защитная"
    ],
    correct: [0,2,3]
  },
  { id: 944, text: "Какую слюну вырабатывают околоушные слюнные железы?",
    options: [
      "слизистую",
      "серозно-слизистую (смешанную)",
      "серозную (белковую)"
    ],
    correct: [2]
  },
  { id: 945, text: "Альфа-амилаза действует на:",
    options: [
      "моносахариды",
      "полисахариды",
      "белки",
      "жиры"
    ],
    correct: [1]
  },
  { id: 946, text: "Перечислите фазы акта глотания:",
    options: [
      "желудочная",
      "пищеводная",
      "глоточная",
      "ротовая"
    ],
    correct: [1,2,3]
  },
  { id: 947, text: "Пепсиногены желудочного сока активируются:",
    options: [
      "трипсином",
      "желчью",
      "энтерокиназой",
      "соляной кислотой"
    ],
    correct: [3]
  },
  { id: 948, text: "Расщепление (гидролиз) углеводов в пищевом комке происходит под влиянием:",
    options: [
      "амилазы поджелудочной железы",
      "амилазы желудка",
      "амилазы слюны",
      "мальтазы слюны"
    ],
    correct: [2,3]
  },
  { id: 949, text: "Назовите пищеварительные функции слюны:",
    options: [
      "ферментативная обработка пищи",
      "бактерицидная",
      "формирование пищевого комка",
      "экскреторная"
    ],
    correct: [0,2]
  },
  { id: 950, text: "Секрет подъязычной слюнной железы является…",
    options: [
      "изотоничным",
      "слизистым",
      "белковым",
      "серозным"
    ],
    correct: [1]
  },
  { id: 951, text: "Может ли осуществляться всасывание в ротовой полости?",
    options: [
      "всасывание начинается только в тонком кишечнике",
      "в полости рта всасывание невозможно",
      "всасывание начинается только в толстом кишечнике",
      "всасывание начинается только в желудке",
      "только некоторых веществ"
    ],
    correct: [4]
  },
  { id: 952, text: "По отношению к плазме крови, слюна является…",
    options: [
      "изотоничной",
      "гипотоничной",
      "гипертоничной"
    ],
    correct: [1]
  },
  { id: 953, text: "Подчелюстные железы вырабатывают...",
    options: [
      "серозную (белковую) слюну",
      "серозно-слизистую (смешанную) слюну",
      "HCl",
      "слизистую слюну"
    ],
    correct: [1]
  },
  { id: 954, text: "Основной объем секреции в полости рта обеспечивается:",
    options: [
      "подчелюстными железами",
      "околоушными железами",
      "подъязычными железами",
      "одиночными железами слизистой полости рта"
    ],
    correct: [0]
  },
  { id: 955, text: "рН слюны составляет:",
    options: [
      "8,5 - 9,2",
      "3,2 - 4,5",
      "1,5 - 2,0",
      "6,8 - 7,4"
    ],
    correct: [3]
  },
  { id: 956, text: "Мальтаза действует на:",
    options: [
      "полисахариды",
      "жиры",
      "белки",
      "дисахариды"
    ],
    correct: [3]
  },
  { id: 957, text: "В состав желудочного сока входят:",
    options: [
      "пепсины",
      "мальтаза",
      "липаза",
      "энтерокиназа"
    ],
    correct: [0,2]
  },
  { id: 958, text: "Рецепторы, раздражение которых вызывает рефлекс глотания, располагаются на …",
    options: [
      "поверхности корня языка",
      "боковой поверхности языка",
      "средней трети языка",
      "передней трети языка"
    ],
    correct: [0]
  },
  { id: 959, text: "Гастриксин представляет собой:",
    options: [
      "мальтазу",
      "протеолитический фермент",
      "изоформу пепсина",
      "пепсиноген"
    ],
    correct: [1,2]
  },
  { id: 960, text: "Пепсины действуют на:",
    options: [
      "аминокислоты",
      "дисахариды",
      "жиры",
      "белки"
    ],
    correct: [3]
  },
  { id: 961, text: "Функциями соляной кислоты желудочного сока являются:",
    options: [
      "активация липазы",
      "бактерицидное действие",
      "регуляция работы пилорического сфинктера",
      "активация пепсиногенов",
      "эмульгирование жиры",
      "денатурация белков"
    ],
    correct: [1,2,3,5]
  },
  { id: 962, text: "Запись жевательных движений нижней челюсти называется:",
    options: [
      "мастикациографией",
      "миографией",
      "гнатодинамометрией",
      "гастрографией"
    ],
    correct: [0]
  },
  { id: 963, text: "Действие ферментов желудочного сока осуществляется в:",
    options: [
      "щелочной среде",
      "нейтральной среде",
      "кислой среде",
      "не зависит от кислотности среды"
    ],
    correct: [2]
  },
  { id: 964, text: "В ротовой полости начинается расщепление:",
    options: [
      "белков",
      "нуклеотидов",
      "углеводов",
      "жиров"
    ],
    correct: [2]
  },
  { id: 965, text: "Куриный белок в прокипяченном желудочном соке...",
    options: [
      "набухнет",
      "полностью расщепится",
      "окрасится в фиолетовый цвет"
    ],
    correct: [0]
  },
  { id: 966, text: "Ферментами, входящими в состав желудочного сока являются:",
    options: [
      "трипсин",
      "гастрин",
      "секретин",
      "пепсины"
    ],
    correct: [3]
  },
  { id: 967, text: "Активную среду в желудке на высоте пищеварения создает:",
    options: [
      "пепсин",
      "фосфатный буфер",
      "бикарбонат",
      "соляная кислота"
    ],
    correct: [3]
  },
  { id: 968, text: "Протеолитическими ферментами желудка являются:",
    options: [
      "гастрин",
      "трипсин",
      "секретин",
      "пепсин"
    ],
    correct: [3]
  },
  { id: 969, text: "Денатурацию и набухание белков в желудке вызывает:",
    options: [
      "гастрин",
      "соляная кислота",
      "пепсин",
      "слизь"
    ],
    correct: [1]
  },
  { id: 970, text: "Белки в желудке расщепляются до:",
    options: [
      "альбумоз и пептонов",
      "аминокислот",
      "углекислого газа, воды и азотистых соединений"
    ],
    correct: [0]
  },
  { id: 971, text: "Внутренний фактор Касла (гастромукопротеин):",
    options: [
      "обеспечивает необходимую рH желудочного сока",
      "необходим для всасывания железа",
      "активирует пепсиногены",
      "необходим для всасывания витамина B12"
    ],
    correct: [3]
  },
  { id: 972, text: "Чувство изжоги возникает вследствие…",
    options: [
      "процесса попадания содержимого желудка в пищевод",
      "процесса нейтрализации кислого содержимого пищи",
      "процесса попадания содержимого пищевода в желудок",
      "работы механизмов, обеспечивающих попадание пищи в желудок"
    ],
    correct: [0]
  },
  { id: 973, text: "Гастроэзофагальный рефлюкс представляет собой:",
    options: [
      "процесс попадания содержимого пищевода в желудок",
      "процесс попадания содержимого желудка в пищевод",
      "механизмы, обеспечивающие попадание пищи в желудок",
      "процесс нейтрализации кислого содержимого пищи"
    ],
    correct: [1]
  },
  { id: 974, text: "Анемия после удаления части желудка развивается вследствие недостатка…",
    options: [
      "фибринстабилизирующего фактора",
      "внутреннего фактора Касла",
      "пепсиногена",
      "фактора Хагемана",
      "внешнего фактора Касла"
    ],
    correct: [1]
  },
  { id: 975, text: "рН желудочного содержимого натощак составляет:",
    options: [
      "3,1-4,0",
      "7,0-8,5",
      "1,5-2,0",
      "0,1-0,8"
    ],
    correct: [2]
  },
  { id: 976, text: "рН желудочного содержимого в желудочную фазу может достигать:",
    options: [
      "3,1-4,0",
      "7,0-8,5",
      "0,8-1,0",
      "1,5-2,0"
    ],
    correct: [2]
  },
  { id: 977, text: "рН желудочного содержимого во время приема пищи составляет:",
    options: [
      "3,1-4,0",
      "0,8-1,0",
      "1,5-2,0",
      "8,0-9,0"
    ],
    correct: [0]
  },
  { id: 978, text: "Протеолитические ферменты секрета желудка в щелочной среде…",
    options: [
      "ингибируются",
      "не изменяют своих свойств",
      "активируются"
    ],
    correct: [0]
  },
  { id: 979, text: "С наименьшей скоростью из желудка эвакуируются…",
    options: [
      "белки",
      "витамины",
      "жиры",
      "углеводы"
    ],
    correct: [2]
  },
  { id: 980, text: "Желудочный секрет имеет наибольшую кислотность при переваривании…",
    options: [
      "балластных веществ",
      "жиров",
      "углеводов",
      "белков"
    ],
    correct: [3]
  },
  { id: 981, text: "Причиной анемии при удалении желудка или его значительной части является:",
    options: [
      "дефицит аминокислот",
      "дефицит железа",
      "дефицит витамина B12",
      "недостаток гастрина"
    ],
    correct: [2]
  },
  { id: 982, text: "Функцию депонирования пищи выполняет:",
    options: [
      "тонкий кишечник",
      "желудок",
      "прямая кишка",
      "толстый кишечник"
    ],
    correct: [1]
  },
  { id: 983, text: "Величина суточного объема желудочного секрета у взрослого человека составляет:",
    options: [
      "1,5-3 л",
      "более 3 л",
      "0,5-0,7 л",
      "0,1-0,3 л"
    ],
    correct: [0]
  },
  { id: 984, text: "Компонентом желудочного секрета, предохраняющий слизистую оболочку желудка от самопереваривания является:",
    options: [
      "соляная кислота",
      "липаза",
      "муцин",
      "пепсин",
      "гастриксин"
    ],
    correct: [2]
  },
  { id: 985, text: "Защита слизистой оболочки желудка от действия агрессивных факторов не осуществляется с помощью:",
    options: [
      "слизистого барьера",
      "высокой степени регенерации слизистой оболочки",
      "пепсина, соляной кислоты",
      "лизоцима, муцина"
    ],
    correct: [2]
  },
  { id: 986, text: "Прием алкоголя натощак вызывает быстрое опьянение поскольку:",
    options: [
      "происходит его всасывание в тонком кишечнике",
      "происходит его всасывание в желудке",
      "происходит его всасывание в ротовой полости",
      "активируется его метаболизм"
    ],
    correct: [1]
  },
  { id: 987, text: "Открытию пилорического сфинктера желудка способствуют:",
    options: [
      "щелочная среда в пилорическом отделе желудка и в 12-перстной кишке",
      "кислая среда в пилорическом отделе желудка и в 12-перстной кишке",
      "кислая среда в пилорическом отделе желудка и щелочная в 12-перстной кишке",
      "щелочная среда в пилорическом отделе желудка и кислая в 12-перстной кишке"
    ],
    correct: [2]
  },
  { id: 988, text: "Кривые желудочной секреции, полученные И.П. Павловым, отражают:",
    options: [
      "степень переваривания жиров, белков и углеводов в желудке",
      "скорость поступления пищи в желудок",
      "скорость опорожнения желудка",
      "объем депонированной в желудке пищи",
      "приспособительный характер секреции желудка к количеству и составу пищи"
    ],
    correct: [4]
  },
  { id: 989, text: "Ферментативной обработке в желудке подвергаются:",
    options: [
      "белки, эмульгированные жиры и незначительно углеводы",
      "только жиры",
      "только белки",
      "только белки и эмульгированные жиры",
      "только эмульгированные жиры и углеводы"
    ],
    correct: [0]
  },
  { id: 990, text: "К повреждающим факторам желудочного сока относятся:",
    options: [
      "достаточное кровоснабжение слизистой оболочки",
      "регенерация эпителиальных клеток в слизистой оболочки",
      "соляная кислота и пепсин",
      "желудочная слизь (муцины)"
    ],
    correct: [2]
  },
  { id: 991, text: "Электрогастрография – это регистрация суммарной электрической активности…",
    options: [
      "кишечника",
      "стенки сосудов",
      "двенадцатиперстной кишки",
      "желудка"
    ],
    correct: [3]
  },
  { id: 992, text: "Одновременная и полная характеристика секреторной и моторной функции желудка осуществляется с помощью:",
    options: [
      "зондирования желудка",
      "рентгеноскопии",
      "рентгенографии",
      "электрогастрографии"
    ],
    correct: [0]
  }
];

let current = 0;
const chosen = questions.map(() => []);

const els = {
  qNum: document.getElementById("question-number"),
  qId: document.getElementById("question-id"),
  qText: document.getElementById("question-text"),
  opts: document.getElementById("options"),
  status: document.getElementById("status"),
  progress: document.getElementById("progress"),
  prev: document.getElementById("prev-btn"),
  next: document.getElementById("next-btn"),
  reset: document.getElementById("reset-btn"),
  checkAll: document.getElementById("check-all-btn"),
  top: document.getElementById("top-progress")
};

function isQuestionCorrect(idx) {
  const q = questions[idx];
  const sel = chosen[idx] || [];
  if (sel.length !== q.correct.length) return false;
  return q.correct.every(v => sel.includes(v));
}

function updateQuestionState() {
  const q = questions[current];
  const sel = chosen[current] || [];
  const selSet = new Set(sel);

  [...els.opts.children].forEach((li, idx) => {
    li.classList.remove("correct", "wrong");
    if (selSet.has(idx)) {
      if (q.correct.includes(idx)) li.classList.add("correct");
      else li.classList.add("wrong");
    }
  });

  if (sel.length === 0) {
    els.status.textContent = "Выбери вариант(ы) ответа.";
    els.status.className = "status info";
  } else if (isQuestionCorrect(current)) {
    els.status.textContent = "✔ Все верно, можно переходить дальше.";
    els.status.className = "status ok";
  } else {
    els.status.textContent = "✘ Есть ошибки, попробуй ещё.";
    els.status.className = "status bad";
  }

  els.next.disabled = !isQuestionCorrect(current);
  els.progress.textContent = `Вопрос ${current + 1} из ${questions.length}`;
}

function renderQuestion() {
  const q = questions[current];
  els.qNum.textContent = `Вопрос ${current + 1} из ${questions.length}`;
  els.qId.textContent = `№${q.id}`;
  els.qText.textContent = q.text;
  els.opts.innerHTML = "";

  const sel = new Set(chosen[current]);

  q.options.forEach((opt, idx) => {
    const li = document.createElement("li");
    li.className = "option";

    const input = document.createElement("input");
    input.type = "checkbox";
    input.checked = sel.has(idx);

    li.addEventListener("click", (e) => {
      // клик по всей строке
      if (sel.has(idx)) sel.delete(idx);
      else sel.add(idx);
      chosen[current] = Array.from(sel);
      input.checked = sel.has(idx);
      updateQuestionState();
    });

    const span = document.createElement("span");
    span.className = "option-label-text";
    span.textContent = opt;

    li.appendChild(input);
    li.appendChild(span);
    els.opts.appendChild(li);
  });

  els.top.textContent = `${current + 1}/${questions.length}`;
  els.prev.disabled = current === 0;

  updateQuestionState();
}

els.next.addEventListener("click", () => {
  if (!isQuestionCorrect(current)) {
    els.status.textContent = "Сначала выбери все правильные варианты без ошибок.";
    els.status.className = "status bad";
    return;
  }
  if (current < questions.length - 1) {
    current++;
    renderQuestion();
  }
});

els.prev.addEventListener("click", () => {
  if (current > 0) {
    current--;
    renderQuestion();
  }
});

els.reset.addEventListener("click", () => {
  chosen[current] = [];
  renderQuestion();
});

els.checkAll.addEventListener("click", () => {
  let good = 0;
  questions.forEach((q, i) => {
    const sel = chosen[i] || [];
    if (sel.length === q.correct.length &&
        q.correct.every(v => sel.includes(v))) {
      good++;
    }
  });
  alert(`Твой результат: ${good} из ${questions.length}`);
});

renderQuestion();
</script>

</body>
</html>
